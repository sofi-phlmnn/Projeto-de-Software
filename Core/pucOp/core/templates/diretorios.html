{% extends "base.html" %}
{% load static %}

{% block title %}PUC Oportunidades — Diretórios Acadêmicos{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/diretorios.css' %}">
{% endblock %}

{% block content %}

<section class="diretorios">

  <img class="banner-img" src="{% static 'img/diretorios.png' %}" alt="Diretórios Acadêmicos">

  <p class="boxtext">
    Os <strong>diretórios acadêmicos</strong> da PUC-Rio reúnem estudantes de cada curso para 
    representar seus colegas, promover integração e fortalecer a vida universitária. Mais do que organizar eventos, 
    divulgam oportunidades (estágios, monitorias, projetos) e atuam como ponte entre alunos, coordenações e empresas.
    Participar de um diretório é vivenciar trabalho em equipe, liderança e desenvolvimento profissional dentro e fora da universidade.
  </p>

  <section class="diretorios-section">
    <div class="cards-container">
      {% for e in diretorios %}
        <div class="card favorito-card">

          {# ⭐ botão de favorito #}
          {% if request.user.is_authenticated %}
            <form method="post"
                  action="{% url 'core:toggle_favorito' 'diretorio' e.id %}"
                  class="fav-form">
              {% csrf_token %}
              <input type="hidden" name="next" value="{{ request.path }}">
              <button type="submit"
                      class="icon-btn"
                      title="{% if e.is_fav %}Remover dos favoritos{% else %}Adicionar aos favoritos{% endif %}">
                <span class="material-icons-outlined">
                  {% if e.is_fav %}star{% else %}star_border{% endif %}
                </span>
              </button>
            </form>
          {% endif %}

          <div class="imgdiretorio-container">
            <img class="imgdiretorio" alt="{{ e.nome }}" src="{% static 'img/'|add:e.img %}">
          </div>
          <h3 class="nomediretorio">{{ e.nome }}</h3>
          <p class="textdiretorio">{{ e.descricao }}</p>
          <a class="btn-diretorio" href="{% url 'core:diretorio_detalhe' e.id %}">
            Ver detalhes completos
          </a>
        </div>
      {% endfor %}
    </div>
  </section>

</section>

{% endblock content %}